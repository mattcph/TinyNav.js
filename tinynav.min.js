(function(e,t,n){e.fn.tinyNav=function(r){var s=e.extend({active:"active",header:"",allheader:false,label:"",domObj:""},r);return this.each(function(){n++;var r=e(this),o="tinynav",u=o+n,a=".l_"+u,f=e("<select/>").attr("id",u).addClass(o+" "+u);if(r.is("ul,ol")){var l="";var c="";r.addClass("l_"+u).find("a").each(function(){c=e(this).attr("class")||"";l+="<option "+c+' value="'+e(this).attr("href")+'">';var t;for(t=0;t<e(this).parents("ul, ol").length-1;t++){l+="- "}l+=e(this).text()+"</option>"});f.append(l);if(!s.allheader){if(e(a+" li."+s.active).length){f.find(":eq("+e(a+" li").index(e(a+" li."+s.active+":last"))+")").attr("selected",true)}}if(s.header!==""){var h=t.location.pathname;h=h.substring(0,h.lastIndexOf("/"));f.prepend(e("<option/>").val("path").text(s.header).addClass("tinyNavSelectHeader"))}f.change(function(){t.location.href=e(this).val()});e(a).after(f);if(n===1){if(s.domObj){e(s.domObj).append(e("#tinynav1"))}}if(s.label){f.before(e("<label/>").attr("for",u).addClass(o+"_label "+u+"_label").append(s.label))}}})}})(jQuery,this,0)
